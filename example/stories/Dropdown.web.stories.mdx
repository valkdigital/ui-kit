import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { Text, Dropdown, Spacing } from "@valkdigital/ui-kit";
import { View } from "react-native";
import { WithFigma } from "storybook-addon-figma";
import data from "../storybook/data";

<Meta title="Dropdown" />

# Preview

<Preview>
  <Story
    name="Dropdown"
    parameters={{
      design: {
        type: "figma",
        url:
          "https://www.figma.com/file/JdbljcIvyMoEVsBZgsg7bbu8/1.-Apps-Styleguide-and-Components?node-id=3007%3A0",
      },
    }}
  >
    <View style={{ flex: 1 }}>
      <div
        style={{
          position: "fixed",
          top: 0,
          right: 0,
          left: 0,
          bottom: 0,
          zIndex: 20,
          backgroundColor: "rgba(0,0,0,0.3)",
        }}
      >
        <div
          style={{
            position: "absolute",
            top: "50%",
            left: "50%",
            height: 200,
            overflowY: "scroll",
            backgroundColor: "#ffffff",
            transform: "translate(-50%, -50%)",
          }}
        >
          <Dropdown
            label="Salutation"
            placeholder="Select an option"
            maxListHeight={400}
            size="small"
            options={[
              { label: "Sir", value: "Dhr." },
              { label: "Madame", value: "Mevr." },
            ]}
            selectedOption={{ label: "Sir", value: "Dhr." }}
            onSelectChange={() => null}
            selectContainerStyle={{
              paddingHorizontal: Spacing.sp3,
              marginBottom: Spacing.sp2,
            }}
            listType="flatList"
          />
          <Dropdown
            label="Dropdown (flatList)"
            placeholder="Select an option"
            maxListHeight={400}
            options={[...Array(3).keys()].map((_, i) => {
              const value = (i + 1).toString();
              return { label: `option ${value}`, value };
            })}
            selectedOption={undefined}
            onSelectChange={() => null}
            selectContainerStyle={{
              paddingHorizontal: Spacing.sp3,
              marginBottom: Spacing.sp2,
            }}
            listType="flatList"
          />
          <Dropdown
            label="Dropdown (flatList)"
            placeholder="Select an option"
            maxListHeight={400}
            options={[...Array(30).keys()].map((_, i) => {
              const value = (i + 1).toString();
              return { label: `option ${value}`, value };
            })}
            selectedOption={{ label: "option 15", value: "15" }}
            onSelectChange={() => null}
            selectContainerStyle={{
              paddingHorizontal: Spacing.sp3,
              marginBottom: Spacing.sp2,
            }}
            searchPlaceholder="Search"
            listEmptyText="Unfortunately, no results were found for the entered search keywords. Try again please!"
            listType="flatList"
          />
          <Dropdown
            label="Dropdown (fullscreen sectionList)"
            placeholder="Select an option"
            maxListHeight={400}
            options={data.countries}
            selectedOption={data.countries[9]}
            favoriteOptions={[
              data.countries[0],
              data.countries[11],
              data.countries[9],
            ]}
            onSelectChange={() => null}
            searchPlaceholder="Search"
            listEmptyText="Unfortunately, no results were found for the entered search keywords. Try again please!"
            selectContainerStyle={{ paddingHorizontal: Spacing.sp3 }}
            listType="sectionList"
          />
        </div>
      </div>
    </View>
  </Story>
</Preview>

# Props

<Props of={Dropdown} />
